<html>
<head>
    <title>Circular graphics - Alpha demo</title>
    <!--<script src="https://code.createjs.com/createjs-2015.05.21.min.js"></script>-->
    <script src="static/createjs-2015.05.21.min.js"></script>
    <script src="static/dayclock.js"></script>
    <style>
        body {
            background: #000000;
        }

            /*horizontally center the canvas*/
        #demoCanvas {
            display: block;
            margin: 0 auto;
        }
    </style>
    <script>
        var canvas, stage;
        var circle;
        var animate = true;
        var rotateFactor = 1;

        function init() {
            canvas = document.getElementById("demoCanvas");
            stage = new createjs.Stage(canvas);

            var xCenter = canvas.width / 2;
            var yCenter = canvas.height / 2;

            var face = new createjs.Container();
            stage.addChild(face);

            circle = new Circle(face, xCenter, yCenter);
            draw(circle);

            createjs.Ticker.addEventListener("tick", tick);
        }

        function draw(circle) {
            var color = "lightgreen";
            var alpha = 0.15;
            var height = 88;
            var cells = [
                {name: "ring", radius:180, height: 2, start: 0, end: 1, color: "#505090"},

                {radius:10, height: height, start: 0.4, end:0.78, color: color, alpha: alpha},
                {radius:20, height: height, start: 0.41, end:0.77, color: color, alpha: alpha},
                {radius:30, height: height, start: 0.42, end:0.76, color: color, alpha: alpha},
                {radius:40, height: height, start: 0.43, end:0.75, color: color, alpha: alpha},
                {radius:50, height: height, start: 0.44, end:0.74, color: color, alpha: alpha},
                {radius:60, height: height, start: 0.45, end:0.73, color: color, alpha: alpha},
                {radius:70, height: height, start: 0.46, end:0.72, color: color, alpha: alpha},
                {radius:80, height: height, start: 0.47, end:0.71, color: color, alpha: alpha},
                {radius:90, height: height, start: 0.48, end:0.7, color: color, alpha: alpha},

                {radius:15, height: 180, start: 0.52, end:0.66, color: color, alpha: alpha},

                {radius:20, height: 180, start: 0.0,  end:0.25, color: color, alpha: alpha},
                {radius:30, height: 160, start: 0.01, end:0.24, color: color, alpha: alpha},
                {radius:40, height: 140, start: 0.02, end:0.23, color: color, alpha: alpha},
                {radius:50, height: 120, start: 0.03, end:0.22, color: color, alpha: alpha},
                {radius:60, height: 100, start: 0.04, end:0.21, color: color, alpha: alpha},
                {radius:70, height: 80,  start: 0.05, end:0.20, color: color, alpha: alpha},
                {radius:80, height: 60,  start: 0.06, end:0.19, color: color, alpha: alpha},
                {radius:90, height: 40,  start: 0.07, end:0.18, color: color, alpha: alpha},
                {radius:100, height: 20, start: 0.08, end:0.17, color: color, alpha: alpha},
                {radius:110, height: 5, start: 0.09, end:0.16, color: color, alpha: alpha},

                {radius:45, height: 100, start: 0.25, end:0.45, color: color, alpha: 0.1, rotateRate : 5},

                {}
            ];

            circle.addCells(cells);
        }

        function tick(event) {

            if (animate) {
                for (var i=0; i < circle.face.numChildren; i++) {
                    var child = circle.face.getChildAt(i);
                    child.rotation += child.rotateRate * rotateFactor;
                }
                circle.update();

                stage.update(event);
            }
        }

    </script>
</head>
<body onload="init();">
<canvas id="demoCanvas" width="400" height="400"></canvas>
</body>
</html>