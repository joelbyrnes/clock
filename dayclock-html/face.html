<html>
<head>
    <title>DayClock</title>
    <!--<script src="https://code.createjs.com/createjs-2015.05.21.min.js"></script>-->
    <script src="static/createjs-2015.05.21.min.js"></script>
    <script src="static/dayclock.js"></script>
    <style>
        body {
          background: #000000;
        }
    </style>
    <script>
    	var canvas, stage;
        var face;
        var animate = true;

        function init() {
            canvas = document.getElementById("demoCanvas");
            stage = new createjs.Stage(canvas);

            var xCenter = canvas.width / 2;
            var yCenter = canvas.height / 2;

            face = new createjs.Container();
		    stage.addChild(face);

		    var cells = [
                {name: "ring", radius:150, height: 2, start: 0, end: 1, color: "#00ee00"},
                {name: "B", radius:150, height: 20, start: 0.1, end: 0.4, color: "red", rotateRate: 6},
                {name: "D", radius:130, height: 10, start: 0.76, end: 1.1, color: "blue"},
                {name: "D", radius:120, height: 10, start: 0.76, end: 1.1, color: "blue"},
                {name: "D", radius:110, height: 10, start: 0.76, end: 1.1, color: "blue"},
                {name: "D", radius:100, height: 10, start: 0.76, end: 1.1, color: "blue"},
                {name: "D", radius:90, height: 10, start: 0.76, end: 1.1, color: "blue"},
                {name: "E", radius:60, height: 10, start: 0, end: 0.25, color: "green", rotateRate: 1},
                {name: "F", radius:60, height: 10, start: 0.50, end: 0.75, color: "green", rotateRate: 1}
		    ];

            for (var c=0; c < cells.length; c++) {
                var cell = cells[c];
                var arc = strokeArc(cell.color, cell.height, xCenter, yCenter, cell.radius, cell.start * 2 * Math.PI, cell.end * 2 * Math.PI, cell.rotateRate);
                arc.name = cell.name;
                console.log("adding cell " + c + ", " + cell.name);
                face.addChild(arc);
            }

            createjs.Ticker.addEventListener("tick", tick);
        }

        function tick(event) {

            if (animate) {
                for (var i=0; i < face.numChildren; i++) {
                    var child = face.getChildAt(i);
                    child.rotation += child.rotateRate;
                }

                stage.update(event);
            }
        }

    </script>
</head>
<body onload="init();">
<canvas id="demoCanvas" width="400" height="400"></canvas>
</body>
</html>